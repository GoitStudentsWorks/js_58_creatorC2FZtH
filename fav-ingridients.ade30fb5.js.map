{"mappings":"oeAAAA,EAAA,S,8GAaa,CACXC,MAAOC,SAASC,cAAc,oBAC9BC,aAAcF,SAASC,cAAc,sBAGlCC,aAAaC,iBAAiB,SA4BnC,SAAyBC,GACvB,GACEA,EAAEC,OAAOC,UAAUC,SAAS,oBAC5BH,EAAEC,OAAOC,UAAUC,SAAS,yBAC5BH,EAAEC,OAAOC,UAAUC,SAAS,iBAC5B,CACA,MAAMC,EAASJ,EAAEC,OAAOI,QAAQ,oBAE5BC,EAASC,SAASH,EAAOI,QAAQC,MACnCH,EAAWI,EAAAC,QAAMC,KAAK,UAAUC,QAAOJ,GAAMA,IAAOL,EAAOI,QAAQC,KACnEC,EAAAC,QAAMG,KAAK,SAAUR,GAErBN,EAAEC,OAAOI,QAAQ,kBAAkBU,UAEhCT,EAASU,OAGZpB,SAASC,cAAc,cAAcK,UAAUe,IAAI,mBAFnDrB,SAASC,cAAc,cAAcK,UAAUa,OAAO,kB,MAzCrCL,EAAAC,QAAMC,KAAK,WAAa,IAC3BI,OAGlBpB,SAASC,cAAc,cAAcK,UAAUe,IAAI,mBAFnDrB,SAASC,cAAc,cAAcK,UAAUa,OAAO,mBAKxDG,iBACE,IACE,MACMC,EADQT,EAAAC,QAAMC,KAAK,UACFQ,KAAIX,GAAMY,EAAAV,QAAMW,IAAI,6DAAcb,OAGnDc,SADqBC,QAAQC,IAAIN,IACVC,KAAIM,GAAMA,EAAGC,OAC1CC,QAAQC,IAAIN,IAEZ,EAAAO,EAAAC,yBAAwBR,E,CACxB,MAAOS,GACPJ,QAAQC,IAAIG,E,EAIhBC,GAEA,IAAI3B,EAAWI,EAAAC,QAAMC,KAAK,WAAa","sources":["src/ingridients.js"],"sourcesContent":["import './module/header.js';\nimport './module/localStorage.js';\nimport './module/modal.js';\nimport './module/select.js';\nimport './module/favorite.js';\nimport './module/pagination.js';\nimport './module/dark.js';\n\nimport axios from 'axios';\nimport local from './module/service';\nimport { renderMarkUpIngridients } from './module/view';\n\nconst BASE_URL = 'https://drinkify-backend.p.goit.global/api/v1/ingredients/';\nconst refs = {\n  heart: document.querySelector('.js-btn-favorite'),\n  favoriteList: document.querySelector('.ingredient-list'),\n};\n\nrefs.favoriteList.addEventListener('click', onTrashBtnClick);\n\nconst arrCocktailsId = local.load('id_ing') || [];\nif (!arrCocktailsId.length) {\n  document.querySelector('.error-box').classList.remove('visually-hidden');\n} else {\n  document.querySelector('.error-box').classList.add('visually-hidden');\n}\n\nasync function getFavIngredients() {\n  try {\n    const arrId = local.load('id_ing');\n    const promises = arrId.map(id => axios.get(`${BASE_URL}${id}`));\n\n    const arrForRender = await Promise.all(promises);\n    const newData = arrForRender.map(el => el.data);\n    console.log(newData);\n\n    renderMarkUpIngridients(newData);\n  } catch (err) {\n    console.log(err);\n  }\n}\n\ngetFavIngredients();\n\nlet tasksArr = local.load('id_ing') || [];\n\nfunction onTrashBtnClick(e) {\n  if (\n    e.target.classList.contains('js-btn-favorite') ||\n    e.target.classList.contains('js-icon-favorite-ing') ||\n    e.target.classList.contains('card-icon-ing')\n  ) {\n    const button = e.target.closest('.js-btn-favorite');\n\n    if (tasksArr.includes(button.dataset.id)) {\n      tasksArr = local.load('id_ing').filter(id => id !== button.dataset.id);\n      local.save('id_ing', tasksArr);\n\n      e.target.closest('.cocktail-item').remove();\n    }\n    if (!tasksArr.length) {\n      document.querySelector('.error-box').classList.remove('visually-hidden');\n    } else {\n      document.querySelector('.error-box').classList.add('visually-hidden');\n    }\n  }\n}\n"],"names":["parcelRequire","heart","document","querySelector","favoriteList","addEventListener","e","target","classList","contains","button","closest","$20a4b65cccfcda83$var$tasksArr","includes","dataset","id","$1KaEx","default","load","filter","save","remove","length","add","async","promises","map","$2shzp","get","newData","Promise","all","el","data","console","log","$k6HK9","renderMarkUpIngridients","err","$20a4b65cccfcda83$var$getFavIngredients"],"version":3,"file":"fav-ingridients.ade30fb5.js.map"}