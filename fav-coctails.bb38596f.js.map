{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oGAQMC,EAAW,2D,SAgBFC,I,OAAAA,EAAfC,EAAAJ,EAAA,CAAAI,EAAAC,GAAAC,MAAA,SAAAC,I,IAEUC,EACAC,EAEAC,EACAC,E,kFAJAH,EAAQI,EAAAC,QAAMC,KAAK,MACnBL,EAAWD,EAAMO,KAAI,SAAAC,G,OAAMC,EAAAJ,QAAMK,IAAI,GAAyBC,OAAtBjB,EAAS,eAAgBiB,OAAHH,G,aAEzCI,QAAQC,IAAIZ,G,OAAjCC,EAAYY,EAAAC,KACZZ,EAAUD,EAAaK,KAAI,SAAAS,G,OAAMA,EAAGC,I,KAE1C,EAAAC,EAAAC,yBAAwBhB,G,6GAREiB,MAAAC,KAAAC,U,EAfjB,CACXC,MAAOC,SAASC,cAAc,oBAC9BC,aAAcF,SAASC,cAAc,wBAGlCC,aAAaC,iBAAiB,SA0BnC,SAAyBC,GACvB,GACEA,EAAEC,OAAOC,UAAUC,SAAS,oBAC5BH,EAAEC,OAAOC,UAAUC,SAAS,qBAC5BH,EAAEC,OAAOC,UAAUC,SAAS,aAC5B,CACA,IAAMC,EAASJ,EAAEC,OAAOI,QAAQ,oBAC5BC,EAASC,SAASH,EAAOI,QAAQ5B,MACnC0B,EAAW9B,EAAAC,QAAMC,KAAK,MAAM+B,QAAO,SAAA7B,G,OAAMA,IAAOwB,EAAOI,QAAQ5B,E,IAC/DJ,EAAAC,QAAMiC,KAAK,KAAMJ,GAEjBN,EAAEC,OAAOI,QAAQ,sBAAsBM,UAEpCL,EAASM,OAGZhB,SAASC,cAAc,cAAcK,UAAUW,IAAI,YAFnDjB,SAASC,cAAc,cAAcK,UAAUS,OAAO,W,MAtCrCnC,EAAAC,QAAMC,KAAK,OAAS,IACvBkC,OAGlBhB,SAASC,cAAc,cAAcK,UAAUW,IAAI,YAFnDjB,SAASC,cAAc,cAAcK,UAAUS,OAAO,Y,WAMzC5C,EAAeyB,MAAAC,KAAAC,U,CAY9BoB,GAEA,IAAIR,EAAW9B,EAAAC,QAAMC,KAAK,OAAS,E","sources":["src/coctails.js"],"sourcesContent":["import './module/header.js';\nimport './module/localStorage.js';\nimport './module/modal.js';\nimport './module/dark.js';\nimport axios from 'axios';\nimport local from './module/service';\nimport { renderMarkUpFavCocktail } from './module/view';\n\nconst BASE_URL = 'https://drinkify-backend.p.goit.global/API/V1/cocktails/';\nconst refs = {\n  heart: document.querySelector('.js-btn-favorite'),\n  favoriteList: document.querySelector('.cocktail-favorite'),\n};\n\nrefs.favoriteList.addEventListener('click', onTrashBtnClick);\n\nconst arrCocktailsId = local.load('id') || [];\nif (!arrCocktailsId.length) {\n  document.querySelector('.error-box').classList.remove('vis-none');\n} else {\n  document.querySelector('.error-box').classList.add('vis-none');\n}\n\n// on load\nasync function getFavCocktails() {\n  try {\n    const arrId = local.load('id');\n    const promises = arrId.map(id => axios.get(`${BASE_URL}lookup/?id=${id}`));\n\n    const arrForRender = await Promise.all(promises);\n    const newData = arrForRender.map(el => el.data);\n\n    renderMarkUpFavCocktail(newData);\n  } catch (err) {\n  }\n}\ngetFavCocktails();\n\nlet tasksArr = local.load('id') || [];\n\nfunction onTrashBtnClick(e) {\n  if (\n    e.target.classList.contains('js-btn-favorite') ||\n    e.target.classList.contains('js-icon-favorite') ||\n    e.target.classList.contains('card-icon')\n  ) {\n    const button = e.target.closest('.js-btn-favorite');\n    if (tasksArr.includes(button.dataset.id)) {\n      tasksArr = local.load('id').filter(id => id !== button.dataset.id);\n      local.save('id', tasksArr);\n\n      e.target.closest('.cocktail-fav-item').remove();\n    }\n    if (!tasksArr.length) {\n      document.querySelector('.error-box').classList.remove('vis-none');\n    } else {\n      document.querySelector('.error-box').classList.add('vis-none');\n    }\n  }\n}\n"],"names":["$bpxeT","parcelRequire","$6309030b75356758$var$BASE_URL","$6309030b75356758$var$_getFavCocktails","$parcel$interopDefault","$2TvXO","mark","_callee","arrId","promises","arrForRender","newData","$776pa","default","load","map","id","$dIxxU","get","concat","Promise","all","_ctx","sent","el","data","$dqeHJ","renderMarkUpFavCocktail","apply","this","arguments","heart","document","querySelector","favoriteList","addEventListener","e","target","classList","contains","button","closest","$6309030b75356758$var$tasksArr","includes","dataset","filter","save","remove","length","add","$6309030b75356758$var$getFavCocktails"],"version":3,"file":"fav-coctails.bb38596f.js.map"}